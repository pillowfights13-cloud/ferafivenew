/* embla-carousel.com/plugins/fade - v8.2.0 */
/* https://www.jsdelivr.com/package/npm/embla-carousel-fade  */
function n(n,t,e){return Math.min(Math.max(n,t),e)}function t(n){return"number"==typeof n&&!isNaN(n)}function e(e={}){const o=1,r=0,i=.68,s=1e3/60;let l,c,a,f,u=[],d=0,p=0,g=0,S=!1;function E(){x(l.selectedScrollSnap(),o)}function y(){S=!1}function h(){S=!1,d=0,p=0}function m(){const n=l.internalEngine().scrollBody.duration();p=n?0:o,S=!0,n||E()}function v(n){const{scrollSnaps:e,location:o,target:r}=l.internalEngine();!t(n)||u[n]<.5||(o.set(e[n]),r.set(o))}function x(t,e){l.scrollSnapList().forEach(((i,s)=>{const c=Math.abs(e),a=u[s],f=s===t,p=n(f?a+c:a-c,r,o);u[s]=p;const E=f&&S,y=l.previousScrollSnap();E&&(u[y]=1-p),f&&function(n,t){const{index:e,dragHandler:o,scrollSnaps:r}=l.internalEngine(),i=o.pointerDown(),s=1/(r.length-1);let c=n,a=i?l.selectedScrollSnap():l.previousScrollSnap();if(i&&c===a){const n=-1*Math.sign(d);c=a,a=e.clone().set(a).add(n).get()}const f=a*s,u=(c-a)*s;g=f+u*t}(t,p),function(n){const t=l.internalEngine().slideRegistry[n],{scrollSnaps:e,containerRect:o}=l.internalEngine(),i=u[n];t.forEach((t=>{const s=l.slideNodes()[t].style,c=parseFloat(i.toFixed(2)),a=c>r,f=function(n){const{axis:t}=l.internalEngine();return`translate${t.scroll.toUpperCase()}(${t.direction(n)}px)`}(a?e[n]:o.width+2);a&&(s.transform=f),s.opacity=c.toString(),s.pointerEvents=i>.5?"auto":"none",a||(s.transform=f)}))}(s)}))}function M(){const{dragHandler:n,index:t,scrollBody:e}=l.internalEngine(),o=l.selectedScrollSnap();if(!n.pointerDown())return o;const r=Math.sign(e.velocity()),i=Math.sign(d),s=t.clone().set(o).add(-1*r).get();return r&&i?i===r?s:o:null}function b(){const{target:n,location:e}=l.internalEngine(),r=n.get()-e.get(),a=Math.abs(r)>=1,f=M(),g=!t(f);return function(n){const{dragHandler:e,scrollBody:r}=n.internalEngine(),l=s/1e3,a=e.pointerDown(),f=r.velocity()*l,g=r.duration(),S=M(),E=!t(S);if(a){if(!f)return;d+=f,p=Math.abs(f/c),v(S)}if(!a){if(!g||E)return;p+=(o-u[S])/g,p*=i}E||x(S,p)}(l),!g&&!a&&u[f]>.999}function w(){return g}return{name:"fade",options:e,init:function(t){l=t;const e=l.selectedScrollSnap(),{scrollBody:i,containerRect:s,axis:d}=l.internalEngine(),p=d.measureSize(s);c=n(.75*p,200,500),S=!1,u=l.scrollSnapList().map(((n,t)=>t===e?o:r)),a=i.settled,f=l.scrollProgress,i.settled=b,l.scrollProgress=w,l.on("select",m).on("slideFocus",E).on("pointerDown",h).on("pointerUp",y),function(){const{translate:n,slideLooper:t}=l.internalEngine();n.clear(),n.toggleActive(!1),t.loopPoints.forEach((({translate:n})=>{n.clear(),n.toggleActive(!1)}))}(),E()},destroy:function(){const{scrollBody:n}=l.internalEngine();n.settled=a,l.scrollProgress=f,l.off("select",m).off("slideFocus",E).off("pointerDown",h).off("pointerUp",y),l.slideNodes().forEach((n=>{const t=n.style;t.opacity="",t.transform="",t.pointerEvents="",n.getAttribute("style")||n.removeAttribute("style")}))}}}e.globalOptions=void 0;export{e as default};