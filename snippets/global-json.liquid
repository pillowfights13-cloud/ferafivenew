{% comment %}=== PRODUCT & ARTICLE STRUCTURED DATA ==={% endcomment %}
{% assign openthinking_seo_pages = 'product,article' | split: ',' %}
{%- if openthinking_seo_pages contains request.page_type -%}
{%- liquid
    capture openthinking_structured_data
        if request.page_type == 'product' 
            echo product | structured_data
        elsif request.page_type == 'article'
            echo article | structured_data
        endif
    endcapture
-%}
{%- if openthinking_structured_data != blank -%}
<script type="application/ld+json">{{ openthinking_structured_data | strip_html | strip }}</script>
{%- endif -%}
{%- endif -%}

{% comment %}=== BREADCRUMB SCHEMA (Product, Collection, Blog, Article pages only) ==={% endcomment %}
{%- if request.page_type == 'product' or request.page_type == 'collection' or request.page_type == 'blog' or request.page_type == 'article' -%}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ shop.url }}"
    }
    {%- if request.page_type == 'product' -%}, {
      "@type": "ListItem",
      "position": 2,
      "name": {{ product.title | strip_html | strip_newlines | strip | json }},
      "item": "{{ shop.url }}{{ product.url }}"
    }
    {%- endif -%}
    {%- if request.page_type == 'collection' -%}, {
      "@type": "ListItem",
      "position": 2,
      "name": {{ collection.title | strip_html | strip_newlines | strip | json }},
      "item": "{{ shop.url }}{{ collection.url }}"
    }
    {%- endif -%}
    {%- if request.page_type == 'blog' -%}, {
      "@type": "ListItem",
      "position": 2,
      "name": {{ blog.title | strip_html | strip_newlines | strip | json }},
      "item": "{{ shop.url }}{{ blog.url }}"
    }
    {%- endif -%}
    {%- if request.page_type == 'article' -%}, {
      "@type": "ListItem",
      "position": 2,
      "name": {{ blog.title | strip_html | strip_newlines | strip | json }},
      "item": "{{ shop.url }}{{ blog.url }}"
    }, {
      "@type": "ListItem",
      "position": 3,
      "name": {{ article.title | strip_html | strip_newlines | strip | json }},
      "item": "{{ shop.url }}{{ article.url }}"
    }
    {%- endif -%}
    ]
}
</script>
{%- endif -%}

{% comment %}=== ORGANIZATION & WEBSITE SCHEMA (Home page only) ==={% endcomment %}
{%- if request.page_type == 'index' -%}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "FÉRA FIVE",
    "url": "{{ shop.url }}",
    "logo": "https://ferafive.com/cdn/shop/files/websitelogo.png?v=1760451565&width=400",
    "description": "FÉRA FIVE is a luxury beauty brand offering premium skincare and fragrance designed as modern rituals of self-possession.",
    "brand": {
        "@type": "Brand",
        "name": "FÉRA FIVE"
    },
    "founder": {
        "@type": "Person",
        "name": "Farha Jha"
    },
    "sameAs": [
        "https://www.instagram.com/ferafive",
        "https://in.pinterest.com/ferafivebeauty",
        "https://www.facebook.com/people/F%C3%A9ra-Five-Beauty/61578652970292/",
        "https://www.youtube.com/channel/UCKz-HPhWj5en9AU-cu1OzHQ/"
    ],
    "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer support",
        "email": "contact@ferafive.com",
        "availableLanguage": "English"
    }
}
</script>

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "url": "{{ shop.url }}",
    "name": "FÉRA FIVE",
    "description": "FÉRA FIVE is a luxury beauty brand offering premium skincare and fragrance as modern rituals of self-possession.",
    "potentialAction": {
        "@type": "SearchAction",
        "target": "{{ shop.url }}/search?q={search_term_string}",
        "query-input": "required name=search_term_string"
    }
}
</script>
{%- endif -%}